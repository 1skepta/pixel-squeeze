<div class="p-8">
  <h1 class="my-7 font-sans font-bold text-3xl" style="color: #1a202c">
    Upload and Compress an Image
  </h1>

  <div
    (click)="fileInput.click()"
    class="border-cyan-900 flex flex-col items-center mt-20 mb-2 cursor-pointer rounded-lg p-6 py-10"
    style="background-color: #f5f5f5; border: 1px dashed #20c5f8"
  >
    <i class="fa fa-upload mb-4" style="color: #20c5f8; font-size: 2rem"></i>
    <p>Click to upload a file to this area</p>
    <input
      type="file"
      #fileInput
      accept="image/*"
      (change)="onFileSelected($event)"
      style="display: none"
    />
  </div>

  <div *ngIf="uploadedFileName">
    <p>
      Uploaded File: <strong>{{ uploadedFileName }}</strong>
    </p>
    <button
      *ngIf="readyToCompress"
      (click)="compressImage()"
      class="mt-4 p-2"
      style="
        background-color: #20c5f8;
        color: white;
        border: none;
        cursor: pointer;
      "
    >
      Compress Image
    </button>
  </div>

  <!-- Loading Spinner -->
  <div *ngIf="isCompressing" class="flex justify-center mt-4">
    <div class="spinner-border text-primary" role="status">
      <span class="sr-only">Loading...</span>
    </div>
  </div>

  <div *ngIf="compressedImageUrl" class="mt-5">
    <h2>Compressed Image</h2>
    <img
      [src]="compressedImageUrl"
      alt="Compressed Image"
      style="max-width: 100%; height: auto"
    />
    <div class="justify-center w-full flex mt-5">
      <a
        [href]="compressedImageUrl"
        download="compressed-image.jpg"
        class="p-4"
        style="background-color: #20c5f8; color: #fcfeff"
      >
        Download Compressed Image
      </a>
    </div>
  </div>
</div>
<app-footer></app-footer>
